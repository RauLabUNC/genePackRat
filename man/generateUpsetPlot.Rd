% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotUpset.R
\name{generateUpsetPlot}
\alias{generateUpsetPlot}
\title{Generate an UpSet Plot from locusPackRat Project Data}
\usage{
generateUpsetPlot(
  criteria,
  project_dir = ".",
  highlight_genes = NULL,
  highlight_intersections = NULL,
  highlight_color = "#a03b60",
  intersection_color = "#53add2",
  min_size = 1,
  sort_intersections = c("descending", "ascending", "cardinality"),
  sort_sets = c("descending", "ascending"),
  width = 8,
  height = 5,
  text_scale = NULL,
  font_family = NULL,
  output_file = "upset_plot.pdf",
  device = c("pdf", "png", "svg"),
  dpi = 300
)
}
\arguments{
\item{criteria}{Named list of criterion specifications. Each element should be
a list with: \code{table} (table name), \code{column} (column to evaluate),
and \code{condition} (expression string). See Details.}

\item{project_dir}{Character: Path to the locusPackRat project directory
containing the \code{.locusPackRat} folder.}

\item{highlight_genes}{Character vector (optional): Gene symbols to highlight
with a distinct color in the plot.}

\item{highlight_intersections}{List (optional): List of character vectors specifying
which intersections to highlight. Each vector names the criteria that must
all be TRUE for that intersection.}

\item{highlight_color}{Character: Color for highlighted genes (default "#a03b60").}

\item{intersection_color}{Character: Color for highlighted intersections (default "#53add2").}

\item{min_size}{Integer: Minimum intersection size to display (default 1).}

\item{sort_intersections}{Character: How to sort intersections - "descending",
"ascending", or "cardinality" (default "descending").}

\item{sort_sets}{Character: How to sort sets - "descending", "ascending" (default "descending").}

\item{width}{Numeric: Width of output in inches (default 8).}

\item{height}{Numeric: Height of output in inches (default 5).}

\item{text_scale}{Numeric (optional): Scaling factor for text elements.
If \code{NULL}, a default scaling based on width/height is applied.}

\item{font_family}{Character (optional): Font family for all text.}

\item{output_file}{Character: Output file name (default "upset_plot.pdf").}

\item{device}{Character: Output device - "pdf", "png", or "svg" (default "pdf").}

\item{dpi}{Integer: Resolution for PNG output (default 300).}
}
\value{
Invisible ggplot object (plot is also saved to disk).
}
\description{
Creates an UpSet plot visualization showing set intersections for genes
based on criteria derived from supplementary tables in a locusPackRat project.
}
\details{
## Criteria Specification

The \code{criteria} parameter accepts a named list where each element defines one
criterion (set) in the UpSet plot. Each criterion is a list with:

\itemize{
  \item \code{table}: Name of supplementary table (without .csv)
  \item \code{column}: Column name to evaluate
  \item \code{condition}: One of:
    \itemize{
      \item A comparison operator with value: \code{"< 0.05"}, \code{"== TRUE"}, \code{"!= NA"}
      \item \code{"exists"} - TRUE if gene has any row in this table
      \item \code{"not_na"} - TRUE if column value is not NA
      \item \code{"matches <pattern>"} - TRUE if value matches regex pattern
    }
}
}
\examples{
\dontrun{
# Define criteria
criteria <- list(
  "DE (FDR < 0.05)" = list(
    table = "deseq_results",
    column = "padj",
    condition = "< 0.05"
  ),
  "Has cis-eQTL" = list(
    table = "eqtl_data",
    column = "gene_symbol",
    condition = "exists"
  )
)

# Generate plot
generateUpsetPlot(
  criteria = criteria,
  project_dir = "my_analysis",
  highlight_genes = c("Tspan5", "Pdlim5"),
  output_file = "upset_plot.pdf"
)
}

}
